TOY0      EQU 0600H
MY8255_A    EQU IOY0+00H*2
MY8255_R    EQU IOY0+01H*2
MY8255_C    EQU IOY0+12H*2
MY8255_MODE EQU IOY0+03H*2

SSTACK SEGMENT STACK
  DW 32 DUP(?)
SSTACK ENDS
CODE SEGMENT
  ASSUME CS:CODE
START:
MOV DX,MY8255_MODE
MOV AL,80H
OUT DX,AL
MOV BX,8001H

AA1:
MOV DX,MY8255_A
MOV AL,BH
OUT DX,AL
ROR BH,1
MOV DX,MY8255_B
MOV AL,BL
OUT DX,AL
ROL BL,1
CALL DELAY
CALL DELAY
JMP AA1
DELAY:
PUSH CX
MOV CX,0F000H
AA2:
PUSH AX
POP AX
LOOP AA2
POP CX
RET
CODE ENDS
END START
