tcp/ip网络模型

# 1 为什么要有tcp/ip网络模型？

 为了传输数据时方便于是制定的协议？太简略。在什么地方传输数据需要，为什么需要，有哪些影响因素等等。

对于同一台设备上的通信，有很多种，**信号、管道、消息队列、共享内存**

对于不同设备上的通信，因为设备多样，就需要一套兼容多种设备的通用网络协议。

共五层，分别是，应用层 传输层 网络层 网络接口层 数据链路层

# 应用层

##  概念

服务于应用，专注于为应用提供功能，例如：http ftp telnet DNS SMIP

它不关心数据传输，只负责处理众多逻辑，比如：文件传输，名称查询和网络管理等。

实现部位：通常在用户空间实现，因为如果在内核中处理众多逻辑，会使内核变得庞大。

有少数服务器程序是在内核中实现。

# 传输层

tcp 数据分段

## 概念

传输层用于传输数据（字面意思，太简单）

**传输层为两台主机上的应用程序提供端对端的通信，与网络层使用的逐级跳转不同，传输层只关心通信的起始端和目的端，而不在乎数据包的中转过程。**

## 传输层协议

TCP UDP

### 区别

### TCP

#### 可靠

为什么可靠？详细说明

因为三次握手长连接，还有保证数据包能够可靠的传输给对方的一些操作，例如流量控制、拥塞控制、超时重传

#### 连接

**连接过程中都需要什么资源来维持连接？**



#### 基于流

基于流的服务的特点是什么？



### UDP

#### 不可靠

意味着什么？如果数据在中途丢失，或者目的端通过校验发现数据错误而将其丢弃，UDP协议会做什么？



#### 无连接

特点？



#### 基于数据报

特点？



## TCP 数据传输

若数据包超出MSS（TCP最大报文长度），则分块



# 网络层

## 概念

是传输数据的详细过程，传输层省略的细节都在这里

详细过程：**实现数据包的转发，路由器分发，确定两台主机之间的通信路径**

网络层负责将数据从一个设备传输到另一个设备，世界上那么多设备，又该如何找到对方呢？因此，网络层需要有区分设备的编号。使用IP地址给设备编号

## IP协议

//me----------

网络层核心协议

通过IP地址确定网络号和主机号。

方法：网络号 = IP地址&掩码 主机号 = IP地址&掩码反码

//---------------

### 具体过程

根据数据报的目的IP地址转发数据包，如果不能直接发给主机



## ICMP协议

### 概念



### ICMP报文格式





# 网络接口层

//me----

负责物理链路上的数据传输

//-------

### 协议

ARP RARP



